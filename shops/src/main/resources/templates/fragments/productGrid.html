<!DOCTYPE html>
<html lang="${lang}"
      th:lang="${lang}"
      th:with="lang=${#locale.language}" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<div th:fragment="productGrid">
  <style>
    .productGridContainer {
      width:100%;
      height:auto;
    }
    .filters {
      width:20%;
      margin-left: 10px;
      float: left;
      display:inline-block;
    }
    .products {
      width: 70%;
      float: left;
      display:inline-block;
    }
  </style>

  <!-- Sidebar/menu -->
  <div class="productGridContainer">
    <div class="filters">
      <div class="w3-white w3-collapse" id="mySidebar">
        <div class="w3-container w3-padding-small w3-margin-left">
          <i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
        </div>
        <!--  Push down filters on large screens -->
        <div class="w3-hide-small w3-hide-medium hide-less-height" style="margin-top:300px"></div>

        <div class="w3-container w3-padding-small w3-margin-left">
          <h4>Accepts</h4>
          <form onsubmit="removePageNum()">
            <div th:if="${bnplFiltersSelected.size() == 0}">
              <p th:each="bnplFilter : ${bnplFilters}">
                <input class="check" type="checkbox" name="bnplFiltersSelected" th:value="${bnplFilter.bnplUuid}">
                <label th:text="${bnplFilter.bnplName}">BnplName</label>
              </p>
              <button type="submit" class="w3-button w3-black">Filter</button>
            </div>
            <div th:unless="${bnplFiltersSelected.size() == 0}">
              <p th:each="bnplFilter : ${bnplFiltersSelected}">
                <input class="check" type="checkbox" name="bnplFiltersSelected"
                       th:value="${bnplFilter.bnplUuid}" checked>
                <label class="w3-margin-left" th:text="${bnplFilter.bnplName}">BnplName</label>
              </p>
              <button type="button" onclick="resetBnplFilters()" class="w3-button w3-black">Reset</button>
            </div>
          </form>
        </div>
        <div class="w3-container w3-padding-small w3-margin-left">
          <h4>Brands</h4>
          <form onsubmit="removePageNum()">
            <div th:if="${merchantFiltersSelected.size() == 0}">
              <div th:if="${merchantFilters.size() < 5}">
                <p th:each="merchantFilter : ${merchantFilters}">
                  <input class="check" type="checkbox" name="merchantFiltersSelected"
                         th:value="${merchantFilter.merchantUuid}">
                  <label th:text="${merchantFilter.merchantName}">MerchantName</label>
                </p>
              </div>
              <div th:unless="${merchantFilters.size() < 5}">
                <p th:each="merchantFilter, iterStat : ${merchantFilters}"
                   th:if="${iterStat.index < 5}">
                  <input class="check" type="checkbox" name="merchantFiltersSelected"
                         th:value="${merchantFilter.merchantUuid}">
                  <label th:text="${merchantFilter.merchantName}">MerchantName</label>
                </p>
                <a href="javascript:void(0)"
                   onclick="document.getElementById('brandsFilter').style.display='block'"
                   style="display: inline-block;margin-bottom:20px;">See All</a>
              </div>
              <button type="submit" class="w3-button w3-black">Filter</button>
            </div>
            <div th:unless="${merchantFiltersSelected.size() == 0}">
              <p th:each="merchantFilter : ${merchantFiltersSelected}">
                <input class="check" type="checkbox" name="merchantFiltersSelected"
                       th:value="${merchantFilter.merchantUuid}" checked>
                <label class="w3-padding-small" th:text="${merchantFilter.merchantName}">MerchantName
                </label>
              </p>
              <button type="button" onclick="resetMerchantFilters()" class="w3-button w3-black">Reset</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="products">
      <div class="w3-container w3-text-grey" id="jeans">
        <p>Page <span th:text="${page}">8</span> of <span th:text="${totalPageCount}">8</span></p>
        <p><span th:text="${totalResultsCount}">8</span> results</p>
      </div>
      <div class="w3-row">
        <div class="w3-col l3 s6 w3-padding-32">
          <div th:each="index : ${#numbers.sequence(0, products.size(), 4)}"
               th:if="${index < products.size()}" class="w3-container w3-padding-16">
            <a target="_blank" th:href="${products.get(index).url}" style="text-decoration:none"
               th:data-product-id="${products.get(index).uuid}">
              <img th:src="${products.get(index).mainImageUrl}" class="zoom" style="width:100%">
              <p>
            <span style="font-size:large;font-weight:bolder;"
                  th:each="merchantName : ${products.get(index).merchantNames}"
                  th:text="${merchantName + ' '}">Ripped Skinny Jeans</span><br>
                <span style="font-size:small"
                      th:text="${products.get(index).name}">Ripped Skinny Jeans</span><br>
                <span style="font-size:small"
                      th:text="${products.get(index).currencySymbol + products.get(index).currentPriceLowerRange}"><b>$24.99</b></span><br>
                <span style="font-size:x-small"
                      th:each="bnplName : ${products.get(index).bnplProviders}" th:text="${bnplName + ' '}">Ripped Skinny Jeans</span>
              </p>
            </a>
          </div>
        </div>
        <div class="w3-col l3 s6 w3-padding-32">
          <div th:each="index : ${#numbers.sequence(1, products.size(), 4)}"
               th:if="${index < products.size()}" class="w3-container w3-padding-16">
            <a target="_blank" th:href="${products.get(index).url}" style="text-decoration:none"
               th:data-product-id="${products.get(index).uuid}">
              <img th:src="${products.get(index).mainImageUrl}" class="zoom" style="width:100%">
              <p>
            <span style="font-size:large;font-weight:bolder;"
                  th:each="merchantName : ${products.get(index).merchantNames}" th:text="${merchantName + ' '}">Ripped Skinny Jeans</span><br>
                <span style="font-size:small" th:text="${products.get(index).name}">Ripped Skinny
              Jeans</span><br>
                <span style="font-size:small"
                      th:text="${products.get(index).currencySymbol + products.get(index).currentPriceLowerRange}"><b>$24.99</b></span><br>
                <span style="font-size:x-small"
                      th:each="bnplName : ${products.get(index).bnplProviders}" th:text="${bnplName + ' '}">Ripped Skinny Jeans</span>
              </p>
            </a>
          </div>
        </div>
        <div class="w3-col l3 s6 w3-padding-32">
          <div th:each="index : ${#numbers.sequence(2, products.size(), 4)}"
               th:if="${index < products.size()}" class="w3-container w3-padding-16">
            <a target="_blank" th:href="${products.get(index).url}" style="text-decoration:none"
               th:data-product-id="${products.get(index).uuid}">
              <img th:src="${products.get(index).mainImageUrl}" class="zoom" style="width:100%">
              <p>
            <span style="font-size:large;font-weight:bolder;"
                  th:each="merchantName : ${products.get(index).merchantNames}" th:text="${merchantName + ' '}">Ripped Skinny Jeans</span><br>
                <span style="font-size:small" th:text="${products.get(index).name}">Ripped Skinny
              Jeans</span><br>
                <span style="font-size:small"
                      th:text="${products.get(index).currencySymbol + products.get(index).currentPriceLowerRange}"><b>$24.99</b></span><br>
                <span style="font-size:x-small"
                      th:each="bnplName : ${products.get(index).bnplProviders}" th:text="${bnplName + ' '}">Ripped Skinny Jeans</span>
              </p>
            </a>
          </div>
        </div>
        <div class="w3-col l3 s6 w3-padding-32">
          <div th:each="index : ${#numbers.sequence(3, products.size(), 4)}"
               th:if="${index < products.size()}" class="w3-container w3-padding-16">
            <a target="_blank" th:href="${products.get(index).url}" style="text-decoration:none"
               th:data-product-id="${products.get(index).uuid}">
              <img th:src="${products.get(index).mainImageUrl}" class="zoom" style="width:100%">
              <p>
            <span style="font-size:large;font-weight:bolder;"
                  th:each="merchantName : ${products.get(index).merchantNames}" th:text="${merchantName + ' '}">Ripped Skinny Jeans</span><br>
                <span style="font-size:small" th:text="${products.get(index).name}">Ripped Skinny
              Jeans</span><br>
                <span style="font-size:small"
                      th:text="${products.get(index).currencySymbol + products.get(index).currentPriceLowerRange}"><b>$24.99</b></span><br>
                <span style="font-size:x-small"
                      th:each="bnplName : ${products.get(index).bnplProviders}" th:text="${bnplName + ' '}">Ripped Skinny Jeans</span>
              </p>
            </a>
          </div>
        </div>
      </div>
      <div class="w3-center w3-padding-32">
      <span th:each="pageNum: ${#numbers.sequence(1, totalPageCount)}" >
        <a th:if="${pageNum != page}"
           href="javascript:void(0)"
           th:attr="onclick=|navigateToPage(${pageNum})|"
           class="w3-padding-small" th:text="${pageNum}">1</a>
        <a th:unless="${pageNum != page}"
           href="javascript:void(0)"
           th:attr="onclick=|navigateToPage(${pageNum})|"
           class="w3-padding-small w3-blue" th:text="${pageNum}">1</a>
      </span>
      </div>
    </div>
  </div>
</div>